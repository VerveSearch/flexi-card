!function(){angular.module("FlexiCard",[]).directive("flexiCard",["$timeout",function(e){return{scope:{tabs:"="},templateUrl:"/flexi.directiveUrl.html",link:function(e,t,i){t.flexiCard({card:{style:{fontSize:"13px",color:"#5b5b5b",background:"#fff"},tabStyle:{background:"#fff",color:"#5b5b5b"},titleStyle:{textAlign:"center",background:'url("/example/roma.jpg") no-repeat 80% 20%',height:"300px",color:"#fff"},attr:{title:"Rome",content:"Modern and old, past and present go side by side, all the time. Whether you are in Rome for 3 days, 3 weeks or 3 months, be prepared to step into the world's biggest open air museum. You can decide to follow the typical tourist paths or you can be luck or brave enough to go off the usual tracks. One way or the other, Rome will seduce you and it will hardly leave you indifferent. It will surprise you, like a beautiful middle aged woman that has still plenty to offer and whose beauty is just been merely blurred by time passing by."},tabs:[{placeholder:'<div ><img src="/example/coloseo.jpg" class="circle" style="width: 1.5em; height: 1.5em;"></div>',title:"User data",content:"Random"},{placeholder:'<i class="fa fa-user-plus"></i>',content:"Share the snippet with your friends."}]}});e.$watch("tabs",function(e){var e={tabs:[{placeholder:'<div ><img src="/example/coloseo.jpg" class="circle" style="width: 1.5em; height: 1.5em;"></div>',title:"User data",content:"Random"}]};t.flexiCard("get").updateTabs(e.tabs)})}}}])}(),function(e,t){e.vs=e.vs||{},e.vs.Flexicard=function(e,i){var n=this;this.element=t(e).addClass("flexi-card"),this.style=i.card.style,this.titleStyle=i.card.titleStyle,this.width=null,this.tabs=[],this.options=i,this.init(e),t(window).resize(function(){n.onResize()})},e.vs.Flexicard.boot=function(){t(".flexi-card[data-flexi-card]").each(function(i,n){t(this).data("__FLEXI_CARD__")||t(this).data("__FLEXI_CARD__",new e.vs.Flexicard(this))})},e.vs.Flexicard.prototype={init:function(e){var i=this;i.width=t(e).width(),1!=t(i.element).find(".flexi-card-wrapper").length&&t(i.element).append(t('<div  class="flexi-card-wrapper">')),i.element=t(i.element).find(".flexi-card-wrapper"),t(i.element).css("font-size",t(i.element).width()/10-5+"px"),i.options.card.element?(0!=i.options.card.length&&i.setCard(i.options.card),"undefined"!=typeof this.options.card.tabs&&0!=this.options.card.tabs.length&&this.setTabs(t(e))):this.options.card.tabs&&0!=this.options.card.tabs.length?(i.setCard(i.options.card),i.createTab(),this.setTabs(t(e))):i.createTab(),i.render(e)},createTab:function(){var i=this,n=t(i.element).find(".flexi-card-tabs");if(i.options.card.tabs){t.each(i.options.card.tabs,function(e,i){t(n).append(t('<div class="flexi-card-tab">'+this.placeholder).append(t('<div class="flexi-card-tab-content">').append('<div class="flexi-card-close-button"><i class="fa fa-times"></i></div>').append(t('<div class="flexi-card-content-title">').html(this.title)).append(t('<div class="flexi-card-content-content">').html(this.content||""))))});var a=t(i.element).find(".flexi-card-tab");t.each(a,function(){i.tabs.push(new e.vs.FlexiTab(t(this),i))})}else{var a=t(i.element).find(".flexi-card-tab");t.each(a,function(){i.tabs.push(new e.vs.FlexiTab(t(this),i))})}},setCard:function(e){var i=this;if("undefined"!=typeof e.element)t(i.element).append(e.element),t(i.element).find(".flexi-card-box").append(t('<div class="flexi-card-title">').html(e.attr.title)).append(t('<div class="flexi-card-content">').html(e.attr.content));else{var n=t(i.element).find(".flexi-card-box").children();2==n.length?"undefined"!=typeof e.attr&&(t(n[0]).html(e.attr.title),t(n[1]).html(e.attr.content)):t(i.element).append(t('<div class="flexi-card-title">').html(e.attr.title)).append(t('<div class="flexi-card-content">').html(e.attr.content))}},render:function(i){var n=this,a=t(n.element).find(".flexi-card-title");a.css("background",n.options.background),t.each(n.style,function(e,i){t(n.element).css(e,i)}),t(n.element).find(".flexi-card-box").css("font-size",n.style.fontSize),t(n.element).css("font-size",t(n.element).width()/10-5+"px"),"undefined"!=typeof n.options.title&&t.each(n.options.title.style,function(e,i){t(a).css(e,i)}),n.options.card.element&&(tabs=t(i).find(".flexi-card-tab"),t.each(tabs,function(i,a){t(this).append(t('<div class="flexi-card-tab-content">').append('<div class="flexi-card-close-button"><i class="fa fa-times"></i></div>').append(t('<div class="flexi-card-content-title">').html(n.options.card.tabs[i].title)).append(t('<div class="flexi-card-content-content">').html(n.options.card.tabs[i].content||""))),n.tabs.push(new e.vs.FlexiTab(t(this),n))})),t.each(n.titleStyle,function(e,i){t(t(n.element).find(".flexi-card-title")).css(e,i)})},setTabs:function(e){var i=this,n=e.find(".flexi-card-tab");0==n.length&&(t(i.element).append(t('<div class="flexi-card-tabs">')),t.each(i.options.card.tabs,function(){t(t(i.element).find(".flexi-card-tabs")).append(t('<div class="flexi-card-tab">'+this.placeholder))}))},updateTabs:function(i){var n=this;n.tabs=[],t.each(i,function(t,i){n.tabs.push(new e.vs.FlexiTab(i,n))});var i=t(n.element).find(".flexi-card-tab");i.remove(),t.each(n.tabs,function(){t(n.element).find(".flexi-card-tabs").append(t('<div class="flexi-card-tab">'+this.placeholder))}),i=t(n.element).find(".flexi-card-tab"),t.each(i,function(i,a){t(this).append(t('<div class="flexi-card-tab-content">').append('<div class="flexi-card-close-button"><i class="fa fa-times"></i></div>').append(t('<div class="flexi-card-content-title">').html(n.options.card.tabs[i].title)).append(t('<div class="flexi-card-content-content">').html(n.options.card.tabs[i].content||""))),n.tabs.push(new e.vs.FlexiTab(t(this),n))})},setTabSize:function(e){var i=this;t(i).find(".flexi-card-link").css("line-height",i.width/10/10),t(i.element).css("font-size",i.width/10-5),t(t(e)).css("font-size",i.width/10-5)},onResize:function(){var e=this;e.width=t(e.element).width(),t.each(e.tabs,function(){e.setTabSize(t(this.element))})}},t.fn.flexiCard=function(i){if("get"===i&&t(this).data("__FLEXI_CARD__"))return t(this).data("__FLEXI_CARD__");var n=t.extend(!0,{},t.fn.flexiCard.defaults,i);return this.each(function(){t(this).data("__FLEXI_CARD__",new e.vs.Flexicard(this,n))})},t.fn.flexiCard.defaults={card:{style:{fontSize:"15px",color:"#000","float":"left",margin:"0px",position:"relative",overflow:"hidden",padding:"0px 20px;"},tabStyle:{background:"rgba(63,81,181,0.8)",height:"1.5em",width:"1.5em",cursor:"pointer",textAlign:"center",boxSizing:"border-box",color:"rgba(63,81,181,0.8)"},titleStyle:{background:"rgba(63,81,181,0.8)"}}},t.fn.flexiCard.setTabs=function(i){return t(this).data("__FLEXI_CARD__",e.vs.Flexicard.prototype.updateTabs(tab))},t(document).ready(function(){e.vs.Flexicard.boot()})}(window,jQuery),function(e,t){e.vs=e.vs||{},e.vs.FlexiTab=function(e,i){var n=i||e,a=e!==n?e:void 0;self=this,self.element=a,self.idx=0,self.style=i.options.card.tabStyle,self.placeholder=e.placeholder,t(this.element).data("__FLEXI_CARD_TAB__",this),self.parentEl=i,self.init(self.element)},e.vs.FlexiTab.prototype={init:function(e){var i=this,n=t(i.element).find(".flexi-card-close-button");i.setContent(e),i.setTabSize(e),i.render(e),t(i.element).on("click",function(){var e=t(this).index();t(this).hasClass("expanded")||i.expandTab(t(i.element),e)}),t(n).on("click",function(){t(i.element).hasClass("expanded")&&i.wrapTab(t(i.element))})},render:function(e){var i=this;t.each(i.style,function(i,n){"fontSize"==i?t(t(e).find(".flexi-card-tab-content")).css(i,n):t(e).css(i,n)})},setContent:function(){var e=this;t(t(e.element).find(".flexi-card-content-title")).html(e.title),t(t(e.element).find(".flexi-card-content-content")).html(e.content)},setTabSize:function(e){var i=this;t(e).css("font-size",i.parentEl.width/10-5)},expandTab:function(e,i){this.idx=i;t(e).after(t('<div class="flexi-card-tab">')),t(e).css("position","absolute").css("z-index",10),t(e).animate({position:"absolute",width:"100%",left:"0px","z-index":10},500),setTimeout(function(){t(e).children().first().hide(),t(e).animate({left:"0px",height:"100%",bottom:"0px"},500),t(e).find(".flexi-card-tab-content").show(),t(e).addClass("expanded")},500),t(e).show()},wrapTab:function(e){var i=0==this.idx?"1px":1.5*this.idx+"em";t(e).find(".flexi-card-tab-content").hide(),t(e).animate({height:"1.5em",bottom:"0px",left:i},500),setTimeout(function(){t(e).children().first().show(),t(e).animate({width:"1.5em"},300),t(e).css("bottom",0),t(e).removeClass("expanded"),setTimeout(function(){t(e).css("position","relative").css({left:"0px","z-index":1}),t(e).next().remove()},300),t(e).find(".flexi-card-tab-content").hide()},500),t(e).find(".flexi-card-tab-content").hide(),t(e).children().first().show()}}}(window,jQuery);